---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { useTranslations, getLocalizedPath, type Language } from '../../i18n';
import { services } from '../../data/services';
import { contactInfo } from '../../data/contact';

export function getStaticPaths() {
  return [
    { params: { lang: 'hi' } },
    { params: { lang: 'mr' } }
  ];
}

const { lang } = Astro.params as { lang: Language };
const t = useTranslations(lang);
const base = import.meta.env.BASE_URL;

const philosophyItems = [
  { icon: 'üé≠', titleKey: 'services.philosophy.theatre', descKey: 'services.philosophy.theatre_desc' },
  { icon: 'üéØ', titleKey: 'services.philosophy.result', descKey: 'services.philosophy.result_desc' },
  { icon: 'ü§ù', titleKey: 'services.philosophy.interactive', descKey: 'services.philosophy.interactive_desc' }
];

const eventTypes = [
  'services.event_types.corporate',
  'services.event_types.musical',
  'services.event_types.social',
  'services.event_types.cultural',
  'services.event_types.awards',
  'services.event_types.launches'
];
---

<BaseLayout
  title={`${t('services.title')} | ${t('site.title')}`}
  description={t('services.subtitle')}
  lang={lang}
  pageType="services"
>
  <!-- Hero Section -->
  <section class="relative py-20 bg-navy-600 overflow-hidden">
    <div class="absolute inset-0 opacity-20">
      <div class="absolute top-0 right-0 w-96 h-96 bg-gold-500 rounded-full blur-3xl"></div>
    </div>
    <div class="container-custom relative z-10">
      <div class="max-w-3xl">
        <span class="text-gold-400 font-semibold text-sm tracking-wider uppercase mb-4 block animate-fade-up">
          {t('services.hero_subtitle')}
        </span>
        <h1 class="text-white mb-6 animate-fade-up" style="animation-delay: 0.1s;">
          {t('services.title')}
        </h1>
        <p class="text-white/70 text-xl animate-fade-up" style="animation-delay: 0.2s;">
          {t('services.subtitle')}
        </p>
      </div>
    </div>
  </section>

  <!-- Training Philosophy -->
  <section class="py-16 bg-gold-50">
    <div class="container-custom">
      <div class="grid md:grid-cols-3 gap-8 text-center">
        {philosophyItems.map((item) => (
          <div class="animate-on-scroll">
            <div class="text-4xl mb-4">{item.icon}</div>
            <h3 class="text-navy-600 text-lg font-semibold mb-2">{t(item.titleKey)}</h3>
            <p class="text-gray-600">{t(item.descKey)}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- All Services -->
  <section class="section-padding bg-white">
    <div class="container-custom">
      <div class="text-center max-w-2xl mx-auto mb-16 animate-on-scroll">
        <h2 class="text-navy-600 mb-4">{t('services.catalog_title')}</h2>
        <p class="text-gray-600 text-lg">{t('services.catalog_desc')}</p>
      </div>

      <!-- Services Grid -->
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {services.map((service, index) => (
          <div
            id={service.id}
            class="group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-gold-400 animate-on-scroll"
            style={`animation-delay: ${index * 0.05}s`}
          >
            <!-- Icon -->
            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-gold-100 to-gold-200 flex items-center justify-center text-3xl mb-6 group-hover:scale-110 transition-transform">
              {service.icon}
            </div>

            <!-- Title -->
            <h3 class="text-navy-600 text-xl font-semibold mb-3 group-hover:text-gold-600 transition-colors">
              {t(service.titleKey)}
            </h3>

            <!-- Description -->
            <p class="text-gray-600 mb-6">
              {t(service.descriptionKey)}
            </p>

            <!-- Features -->
            <ul class="space-y-2 mb-6">
              {t(service.featuresKey).split(',').map((feature: string) => (
                <li class="flex items-start gap-2 text-sm text-gray-500">
                  <svg class="w-5 h-5 text-gold-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                  {feature.trim()}
                </li>
              ))}
            </ul>

            <!-- Category Badge -->
            <span class="inline-block px-3 py-1 bg-navy-100 text-navy-600 rounded-full text-xs font-medium capitalize">
              {t(`services.categories.${service.category}`)}
            </span>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Event Anchoring Special Section -->
  <section class="section-padding bg-gray-50">
    <div class="container-custom">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="animate-on-scroll">
          <span class="text-gold-500 font-semibold text-sm tracking-wider uppercase mb-2 block">
            {t('services.anchoring_subtitle')}
          </span>
          <h2 class="text-navy-600 mb-6">{t('services.anchoring_title')}</h2>
          <p class="text-gray-600 text-lg mb-6">
            {t('services.anchoring_desc')}
          </p>

          <div class="grid sm:grid-cols-2 gap-4 mb-8">
            {eventTypes.map((typeKey) => (
              <div class="flex items-center gap-2">
                <svg class="w-5 h-5 text-gold-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span class="text-navy-600">{t(typeKey)}</span>
              </div>
            ))}
          </div>

          <a href={`https://wa.me/${contactInfo.whatsapp}?text=${encodeURIComponent(t('services.whatsapp_anchor_msg'))}`} class="btn-gold inline-flex items-center gap-2">
            {t('services.book_event')}
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
            </svg>
          </a>
        </div>

        <div class="grid grid-cols-2 gap-4 animate-on-scroll">
          <img src={`${base}images/gallery/anchoring/FB_IMG_1767103843647.jpg`} alt={t('services.anchoring_alt1')} class="rounded-2xl shadow-lg w-full h-48 object-cover" />
          <img src={`${base}images/gallery/anchoring/FB_IMG_1767103816392.jpg`} alt={t('services.anchoring_alt2')} class="rounded-2xl shadow-lg w-full h-48 object-cover mt-8" />
        </div>
      </div>
    </div>
  </section>

  <!-- Languages -->
  <section class="py-16 bg-white">
    <div class="container-custom">
      <div class="text-center max-w-2xl mx-auto animate-on-scroll">
        <h2 class="text-navy-600 mb-4">{t('services.languages_title')}</h2>
        <p class="text-gray-600 mb-8">{t('services.languages_desc')}</p>
        <div class="flex justify-center gap-6">
          {[
            { lang: 'English', flag: 'üá¨üáß' },
            { lang: '‡§π‡§ø‡§Ç‡§¶‡•Ä', flag: 'üáÆüá≥' },
            { lang: '‡§Æ‡§∞‡§æ‡§†‡•Ä', flag: 'üè≥Ô∏è' }
          ].map((item) => (
            <div class="px-8 py-4 bg-gray-50 rounded-2xl text-center">
              <span class="text-3xl mb-2 block">{item.flag}</span>
              <span class="text-navy-600 font-semibold">{item.lang}</span>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-20 bg-navy-600">
    <div class="container-custom text-center">
      <h2 class="text-white mb-6 animate-on-scroll">{t('services.cta_title')}</h2>
      <p class="text-white/70 text-xl mb-8 max-w-2xl mx-auto animate-on-scroll">
        {t('services.cta_text')}
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center animate-on-scroll">
        <a href={`https://wa.me/${contactInfo.whatsapp}`} class="btn-gold">
          {t('services.cta_discuss')}
        </a>
        <a href={getLocalizedPath('/contact', lang)} class="btn-outline-gold border-white/30 text-white hover:bg-white/10">
          {t('services.cta_inquiry')}
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
