---
import { useTranslations, type Language } from '../../i18n';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const base = import.meta.env.BASE_URL;

const screenshotTestimonials = [
  { src: 'diveagar.jpeg', alt: 'Client Testimonial - Diveagar' },
  { src: 'expandx.jpeg', alt: 'Client Testimonial - ExpandX' },
  { src: 'kakde.jpeg', alt: 'Client Testimonial - Kakde' },
  { src: 'lurall.jpeg', alt: 'Client Testimonial - Lurall' },
];
---

<section class="section-padding bg-white">
  <div class="container-custom">
    <div class="text-center max-w-2xl mx-auto mb-12 animate-on-scroll">
      <span class="text-gold-500 font-semibold text-sm tracking-wider uppercase mb-2 block">
        Testimonials
      </span>
      <h2 class="text-navy-600 mb-4">{t('testimonials.title')}</h2>
      <p class="text-gray-600 text-lg">{t('testimonials.subtitle')}</p>
    </div>

    <!-- Video Testimonial -->
    <div class="max-w-2xl mx-auto mb-12 animate-on-scroll">
      <div class="rounded-2xl overflow-hidden shadow-xl">
        <video
          controls
          class="w-full"
          poster={`${base}images/testimonials/expandx.jpeg`}
        >
          <source src={`${base}images/testimonials/video.mp4`} type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </div>
    </div>

    <!-- Screenshot Testimonials Grid -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
      {screenshotTestimonials.map((testimonial) => (
        <div class="animate-on-scroll">
          <div class="rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow border border-gray-100 hover:border-gold-200">
            <img
              src={`${base}images/testimonials/${testimonial.src}`}
              alt={testimonial.alt}
              class="w-full h-auto object-cover"
              loading="lazy"
            />
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
